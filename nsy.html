<!doctype html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>宁尚义个人博客</title>
		<meta name="keywords" content="宁尚义个人博客网站,宁尚义个人网站，宁尚义博客,个人博客,个人网站" />

		<link href="css/index.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>

		<!--[if lt IE 9]>
        <script src="js/modernizr.js"></script>
		<![endif]-->
		<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="js/christmassnow.js"></script>
		<script>
			$(document).ready(function() {
				$('body').christmassnow({
					snowflaketype: 23, // 1 to 25 types of flakes are available change the number from 1 to 25. each one contain different images.
					snowflakesize: 2, //snowflakesize is 1 then it get the size of the image as random , if the snowflakesize is 2 means size of the image as custom
					snowflakedirection: 1, // 1 means default no wind (top to bottom), 2 means random, 3 means left to right and 4 means  right to left
					snownumberofflakes: 4, // number of flakes is user option
					snowflakespeed: 10, // falling speed of flake 10 sec is default
					flakeheightandwidth: 15 // if you are mention that option flakesize is 2 then this flakeheightandwidth should work values are in pixels 16*16.
				});
			});
		</script>
	</head>

	<body>
		<div class="drop"></div>
		<header>
			<a href="nsy.html"><img src="images/bg.png" /></a>
			<p>要么读书,要么旅行,身体和灵魂总要有一个在路上......</p>
		</header>
		<div class="navswf">
			<object id="customMenu" data="images/nav.swf" width="528" height="70" type="application/x-shockwave-flash"><param name="allowScriptAccess" value="always"><param name="allownetworking" value="all"><param name="allowFullScreen" value="true"><param name="wmode" value="transparent"><param name="menu" value="false"><param name="scale" value="noScale"><param name="salign" value="1"></object>
			<nav id="nav">
				<ul>
					<li>
						<a href="nsy.html">主页</a>
					</li>
					<li>
						<a href="personalfile.html">个人档</a>
					</li>
					<li>
						<a href="journal.html">日志</a>
					</li>
					<li>
						<a href="saysomething.html">说说</a>
					</li>
					<li>
						<a href="album.html">相册</a>
					</li>
					<li>
						<a href="messageboard.html">留言板</a>
					</li>
					<li>
						<a href="collection.html">收藏</a>
					</li>
				</ul>

				<script src="js/silder.js"></script>
				<!--获取当前页导航 高亮显示标题-->

			</nav>
		</div>
		<article>
			<div class="pho">
				<ul>
					<li>
						<a href="#pic01"><img src="images/001.jpg"></a>
					</li>
					<li>
						<a href="#pic02"><img src="images/002.jpg"></a>
					</li>
					<li>
						<a href="#pic03"><img src="images/03.jpg"></a>
					</li>
				</ul>
			</div>
			<div class="blank"></div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">1.JavaScript中如何检测一个变量是一个String类型？请写出函数实现</h3>
					<p>typeof(obj) === "string"</p>
					<p>typeof obj === "string"</p>
					<p>obj.constructor === String</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">2.请用js去除字符串空格？</h3>
					<p>方法一：使用replace正则匹配的方法</p>
					<p>去除所有空格: str = str.replace(/\s*/g,"");</p>
					<p>去除两头空格: str = str.replace(/^\s*|\s*$/g,"");</p>
					<p>去除左空格： str = str.replace( /^\s*/, “”);</p>
					<p>去除右空格： str = str.replace(/(\s*$)/g, "");</p>
					<p>str为要去除空格的字符串，实例如下：</p>
					<p>var str = " 23 23 ";</p>
					<p>var str2 = str.replace(/\s*/g,"");</p>
					<p>console.log(str2); // 2323</p>
					<p>方法二：使用str.trim()方法</p>
					<p>str.trim()局限性：无法去除中间的空格，实例如下：</p>
					<p>var str = " xiao ming ";</p>
					<p>var str2 = str.trim();</p>
					<p>console.log(str2); //xiao ming </p>
					<p>同理，str.trimLeft()，str.trimRight()分别用于去除字符串左右空格。</p>
					<p>方法三：使用jquery,$.trim(str)方法</p>
					<p>$.trim(str)局限性：无法去除中间的空格，实例如下：</p>
					<p>var str = " xiao ming ";</p>
					<p>var str2 = $.trim(str)</p>
					<p>console.log(str2); // xiao ming</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">3.你如何获取浏览器URL中查询字符串中的参数？</h3>
					<p>function showWindowHref(){</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;var sHref = window.location.href;</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;var args = sHref.split('?');</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;if(args[0] == sHref){</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return "";</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;var arr = args[1].split('&');</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;var obj = {};</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;for(var i = 0;i
						< arr.length;i++){</p>
							<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var arg = arr[i].split('=');</p>
							<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj[arg[0]] = arg[1];</p>
							<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
							<p>&nbsp;&nbsp;&nbsp;&nbsp;return obj;</p>
							<p>}</p>
							<p>var href = showWindowHref(); // obj</p>
							<p>console.log(href['name']); // xiaoming</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">4.js 字符串操作函数</h3>
					<p>concat() – 将两个或多个字符的文本组合起来，返回一个新的字符串。</p>
					<p>indexOf() – 返回字符串中一个子串第一处出现的索引。如果没有匹配项，返回 -1 。</p>
					<p>charAt() – 返回指定位置的字符。</p>
					<p>lastIndexOf() – 返回字符串中一个子串最后一处出现的索引，如果没有匹配项，返回 -1 。</p>
					<p>match() – 检查一个字符串是否匹配一个正则表达式。</p>
					<p>substr() 函数 -- 返回从string的startPos位置，长度为length的字符串</p>
					<p>substring() – 返回字符串的一个子串。传入参数是起始位置和结束位置。</p>
					<p>slice() – 提取字符串的一部分，并返回一个新字符串。</p>
					<p>replace() – 用来查找匹配一个正则表达式的字符串，然后使用新字符串代替匹配的字符串。</p>
					<p>search() – 执行一个正则表达式匹配查找。如果查找成功，返回字符串中匹配的索引值。否则返回 -1 。</p>
					<p>split() – 通过将字符串划分成子串，将一个字符串做成一个字符串数组。</p>
					<p>length – 返回字符串的长度，所谓字符串的长度是指其包含的字符的个数。</p>
					<p>toLowerCase() – 将整个字符串转成小写字母。</p>
					<p>toUpperCase() – 将整个字符串转成大写字母。</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">5.怎样添加、移除、移动、复制、创建和查找节点？</h3>
					<p> 1）创建新节点</p>
					<p>　　createDocumentFragment() //创建一个DOM片段</p>
					<p>　　createElement() //创建一个具体的元素</p>
					<p>　　createTextNode() //创建一个文本节点</p>
					<p> 2）添加、移除、替换、插入</p>
					<p>　　appendChild() //添加</p>
					<p>　　removeChild() //移除</p>
					<p>　　replaceChild() //替换</p>
					<p>　　insertBefore() //插入</p>
					<p> 3）查找</p>
					<p>　　getElementsByTagName() //通过标签名称</p>
					<p>　　getElementsByName() //通过元素的Name属性的值</p>
					<p>　　getElementById() //通过元素Id，唯一性</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">6.如何理解闭包？</h3>
					<p>1、定义和用法：当一个函数的返回值是另外一个函数，而返回的那个函数如果调用了其父函数内部的其它变量，如果返回的这个函数在外部被执行，就产生了闭包。</p>
					<p>2、表现形式：使函数外部能够调用函数内部定义的变量。</p>
					<p>3、实例如下：</p>
					<p>(1)、根据作用域链的规则，底层作用域没有声明的变量，会向上一级找，找到就返回，没找到就一直找，直到window的变量，没有就返回undefined。这里明显count 是函数内部的flag2 的那个count 。</p>
					<p>var count=10; //全局作用域 标记为flag1</p>
					<p>function add(){</p>
					<p> var count=0; //函数全局作用域 标记为flag2</p>
					<p> return function(){</p>
					<p> count+=1; //函数的内部作用域</p>
					<p> alert(count);</p>
					<p> }</p>
					<p>}</p>
					<p>var s = add()</p>
					<p>s();//输出1</p>
					<p>s();//输出2</p>
					<p>4、变量的作用域</p>
					<p>要理解闭包，首先必须理解Javascript特殊的变量作用域。</p>
					<p>变量的作用域分类：全局变量和局部变量。</p>
					<p>特点：</p>
					<p>1、函数内部可以读取函数外部的全局变量；在函数外部无法读取函数内的局部变量。</p>
					<p>2、函数内部声明变量的时候，一定要使用var命令。如果不用的话，你实际上声明了一个全局变量！</p>
					<p>5、使用闭包的注意点</p>
					<p>1）滥用闭包，会造成内存泄漏：由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</p>
					<p>2）会改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">7.什么是跨域？跨域请求资源的方法有哪些？</h3>
					<p>1、什么是跨域？</p>
					<p>由于浏览器同源策略，凡是发送请求url的协议、域名、端口三者之间任意一与当前页面地址不同即为跨域。存在跨域的情况：</p>
					<p>网络协议不同，如http协议访问https协议。</p>
					<p>端口不同，如80端口访问8080端口。</p>
					<p>域名不同，如qianduanblog.com访问baidu.com。</p>
					<p>子域名不同，如abc.qianduanblog.com访问def.qianduanblog.com。</p>
					<p>域名和域名对应ip,如www.a.com访问20.205.28.90.</p>
					<p>2、跨域请求资源的方法：</p>
					<p>(1)、porxy代理</p>
					<p>定义和用法：proxy代理用于将请求发送给后台服务器，通过服务器来发送请求，然后将请求的结果传递给前端。</p>
					<p>实现方法：通过nginx代理；</p>
					<p>注意点：1、如果你代理的是https协议的请求，那么你的proxy首先需要信任该证书（尤其是自定义证书）或者忽略证书检查，否则你的请求无法成功。</p>
					<p>(2)、CORS 【Cross-Origin Resource Sharing】</p>
					<p>定义和用法：是现代浏览器支持跨域资源请求的一种最常用的方式。</p>
					<p>使用方法：一般需要后端人员在处理请求数据的时候，添加允许跨域的相关操作。如下：</p>
					<p>res.writeHead(200, {</p>
					<p> "Content-Type": "text/html; charset=UTF-8",</p>
					<p> "Access-Control-Allow-Origin":'http://localhost',</p>
					<p> 'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',</p>
					<p> 'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type'</p>
					<p>});</p>
					<p>(3)、jsonp</p>
					<p>定义和用法：通过动态插入一个script标签。浏览器对script的资源引用没有同源限制，同时资源加载到页面后会立即执行（没有阻塞的情况下）。</p>
					<p>特点：通过情况下，通过动态创建script来读取他域的动态资源，获取的数据一般为json格式。</p>
					<p>缺点：</p>
					<p>　　1、这种方式无法发送post请求（这里）</p>
					<p>　　2、另外要确定jsonp的请求是否失败并不容易，大多数框架的实现都是结合超时时间来判定。</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">8.谈谈垃圾回收机制方式及内存管理</h3>
					<p>回收机制方式</p>
					<p>1、定义和用法：垃圾回收机制(GC:Garbage Collection),执行环境负责管理代码执行过程中使用的内存。</p>
					<p>2、原理：垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。但是这个过程不是实时的，因为其开销比较大，所以垃圾回收器会按照固定的时间间隔周期性的执行。</p>
					<p>3、实例如下：</p>
					<p>function fn1() {</p>
					<p> var obj = {name: 'hanzichi', age: 10};</p>
					<p>}</p>
					<p>function fn2() {</p>
					<p> var obj = {name:'hanzichi', age: 10};</p>
					<p> return obj;</p>
					<p>}</p>
					<p>var a = fn1();</p>
					<p>var b = fn2();</p>
					<p>fn1中定义的obj为局部变量，而当调用结束后，出了fn1的环境，那么该块内存会被js引擎中的垃圾回收器自动释放；在fn2被调用的过程中，返回的对象被全局变量b所指向，所以该块内存并不会被释放。</p>
					<p>4、垃圾回收策略：标记清除(较为常用)和引用计数。</p>
					<p>标记清除：</p>
					<p>　　定义和用法：当变量进入环境时，将变量标记"进入环境"，当变量离开环境时，标记为："离开环境"。某一个时刻，垃圾回收器会过滤掉环境中的变量，以及被环境变量引用的变量，剩下的就是被视为准备回收的变量。</p>
					<p>　　到目前为止，IE、Firefox、Opera、Chrome、Safari的js实现使用的都是标记清除的垃圾回收策略或类似的策略，只不过垃圾收集的时间间隔互不相同。</p>
					<p>引用计数：</p>
					<p>　　定义和用法：引用计数是跟踪记录每个值被引用的次数。</p>
					<p>　　基本原理：就是变量的引用次数，被引用一次则加1，当这个引用计数为0时，被视为准备回收的对象。</p>
					<p>内存管理:</p>
					<p>1、什么时候触发垃圾回收？</p>
					<p>垃圾回收器周期性运行，如果分配的内存非常多，那么回收工作也会很艰巨，确定垃圾回收时间间隔就变成了一个值得思考的问题。</p>
					<p>IE6的垃圾回收是根据内存分配量运行的，当环境中的变量，对象，字符串达到一定数量时触发垃圾回收。垃圾回收器一直处于工作状态，严重影响浏览器性能。</p>
					<p>IE7中，垃圾回收器会根据内存分配量与程序占用内存的比例进行动态调整，开始回收工作。</p>
					<p>2、合理的GC方案：(1)、遍历所有可访问的对象; (2)、回收已不可访问的对象。</p>
					<p>3、GC缺陷：(1)、停止响应其他操作；</p>
					<p>4、GC优化策略：(1)、分代回收（Generation GC）;(2)、增量GC</p>
				</ul>
			</div>
			<div class="blog">
				<h2>Javascript</h2>
				<ul>
					<h3 class="title">9.开发过程中遇到的内存泄露情况，如何解决的？</h3>
					<p>1、定义和用法：</p>
					<p>内存泄露是指一块被分配的内存既不能使用，又不能回收，直到浏览器进程结束。C#和Java等语言采用了自动垃圾回收方法管理内存，几乎不会发生内存泄露。我们知道，浏览器中也是采用自动垃圾回收方法管理内存，但由于浏览器垃圾回收方法有bug，会产生内存泄露。</p>
					<p>2、内存泄露的几种情况:</p>
					<p>(1)、当页面中元素被移除或替换时，若元素绑定的事件仍没被移除，在IE中不会作出恰当处理，此时要先手工移除事件，不然会存在内存泄露。</p>
					<p>(2)、由于是函数内定义函数，并且内部函数--事件回调的引用外暴了，形成了闭包。闭包可以维持函数内局部变量，使其得不到释放。</p>
				</ul>
			</div>
		</article>
		<footer id="copright">Design by NingShangYi</footer>
	</body>

</html>